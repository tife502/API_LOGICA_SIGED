2025-10-03T16:37:27.686Z info: Obteniendo usuario por email
2025-10-03T16:37:27.704Z warn: Intento de login con email no registrado
2025-10-03T16:46:18.274Z error: Error en middleware de autenticación
2025-10-03T16:55:28.706Z info: Obteniendo usuarios
2025-10-03T16:55:28.967Z info: Creando nuevo usuario
2025-10-03T16:55:29.133Z error: PrismaClientValidationError: 
Invalid `this.prisma.usuario.create()` invocation in
/home/finova/api_basica/src/prisma/prisma.service.ts:197:40

  194 async createUsuario(data: PrismaInterfaces.ICreateUsuario) {
  195   try {
  196     logger.info('Creando nuevo usuario', { data: { ...data, contrasena: '[HIDDEN]' } });
→ 197     return await this.prisma.usuario.create({
            data: {
              tipo_documento: "CC",
              documento: "1088238704",
              nombre: "Jean",
              apellido: "Duran",
              email: "jean.duran@superadmin.com",
              contrasena: "Admin123456",
              rol: "super_Admin",
                   ~~~~~~~~~~~~~
              estado: "activo"
            }
          })

Invalid value for argument `rol`. Expected usuario_rol.
    at throwValidationException (/home/finova/api_basica/node_modules/@prisma/client/src/runtime/core/errorRendering/throwValidationException.ts:45:9)
    at ei.handleRequestError (/home/finova/api_basica/node_modules/@prisma/client/src/runtime/RequestHandler.ts:202:7)
    at ei.handleAndLogRequestError (/home/finova/api_basica/node_modules/@prisma/client/src/runtime/RequestHandler.ts:174:12)
    at ei.request (/home/finova/api_basica/node_modules/@prisma/client/src/runtime/RequestHandler.ts:143:12)
    at a (/home/finova/api_basica/node_modules/@prisma/client/src/runtime/getPrismaClient.ts:833:24)
2025-10-03T16:55:29.133Z error: PrismaClientValidationError: 
Invalid `this.prisma.usuario.create()` invocation in
/home/finova/api_basica/src/prisma/prisma.service.ts:197:40

  194 async createUsuario(data: PrismaInterfaces.ICreateUsuario) {
  195   try {
  196     logger.info('Creando nuevo usuario', { data: { ...data, contrasena: '[HIDDEN]' } });
→ 197     return await this.prisma.usuario.create({
            data: {
              tipo_documento: "CC",
              documento: "1088238704",
              nombre: "Jean",
              apellido: "Duran",
              email: "jean.duran@superadmin.com",
              contrasena: "Admin123456",
              rol: "super_Admin",
                   ~~~~~~~~~~~~~
              estado: "activo"
            }
          })

Invalid value for argument `rol`. Expected usuario_rol.
    at throwValidationException (/home/finova/api_basica/node_modules/@prisma/client/src/runtime/core/errorRendering/throwValidationException.ts:45:9)
    at ei.handleRequestError (/home/finova/api_basica/node_modules/@prisma/client/src/runtime/RequestHandler.ts:202:7)
    at ei.handleAndLogRequestError (/home/finova/api_basica/node_modules/@prisma/client/src/runtime/RequestHandler.ts:174:12)
    at ei.request (/home/finova/api_basica/node_modules/@prisma/client/src/runtime/RequestHandler.ts:143:12)
    at a (/home/finova/api_basica/node_modules/@prisma/client/src/runtime/getPrismaClient.ts:833:24)
2025-10-03T16:56:25.931Z info: Obteniendo usuarios
2025-10-03T16:56:25.941Z info: Creando nuevo usuario
2025-10-03T16:56:25.996Z info: Usuario inicial creado: jean.duran@superadmin.com
2025-10-03T16:59:59.025Z info: Obteniendo usuario por email
2025-10-03T16:59:59.134Z warn: Intento de login con contraseña incorrecta
2025-10-03T17:01:26.386Z info: Obteniendo usuario por email
2025-10-03T17:01:26.400Z warn: Intento de login con contraseña incorrecta
2025-10-03T17:08:15.754Z info: Obteniendo usuarios
2025-10-03T17:08:15.963Z info: Creando nuevo usuario
2025-10-03T17:08:15.982Z info: Usuario inicial creado: jean.duran@superadmin.com
2025-10-03T17:08:43.160Z info: Obteniendo usuario por email
2025-10-03T17:08:43.369Z info: Login exitoso
2025-10-03T17:10:43.139Z info: Obteniendo usuarios
2025-10-03T17:10:43.332Z info: Creando nuevo usuario
2025-10-03T17:10:43.347Z info: Usuario creado exitosamente
2025-10-03T17:12:55.718Z info: Obteniendo usuarios
2025-10-03T17:12:55.730Z info: Usuarios obtenidos: 2
2025-10-03T17:23:17.995Z info: Obteniendo usuarios
2025-10-03T17:23:18.021Z info: Usuarios obtenidos: 2
2025-10-03T17:24:00.178Z info: Obteniendo usuario por email
2025-10-03T17:24:00.382Z info: Login exitoso
2025-10-03T17:25:40.069Z info: Obteniendo usuario por email
2025-10-03T17:25:40.264Z info: Login exitoso
2025-10-03T17:25:51.845Z info: Obteniendo usuarios
2025-10-03T17:25:51.851Z info: Usuarios obtenidos: 2
2025-10-03T17:40:38.838Z info: Obteniendo usuario por email
2025-10-03T17:40:39.050Z info: Login exitoso
2025-10-03T18:50:58.969Z info: Obteniendo usuario por email
2025-10-03T18:50:59.389Z info: Login exitoso
2025-10-03T18:52:00.278Z info: Creando nuevo empleado
2025-10-03T18:52:00.426Z error: PrismaClientValidationError: 
Invalid `this.prisma.empleado.create()` invocation in
/home/finova/api_basica/src/prisma/prisma.service.ts:26:41

  23 async createEmpleado(data: PrismaInterfaces.ICreateEmpleado) {
  24   try {
  25     logger.info('Creando nuevo empleado', { data });
→ 26     return await this.prisma.empleado.create({
           data: {
             tipo_documento: "CC",
             documento: "12345678901",
             nombre: "María Elena",
             apellido: "García Rodríguez",
             email: "maria.garcia@colegio.edu.co",
             direccion: "Calle 123 #45-67, Bogotá",
             cargo: "docente",
                    ~~~~~~~~~
             estado: "activo"
           }
         })

Invalid value for argument `cargo`. Expected empleado_cargo.
    at throwValidationException (/home/finova/api_basica/node_modules/@prisma/client/src/runtime/core/errorRendering/throwValidationException.ts:45:9)
    at ei.handleRequestError (/home/finova/api_basica/node_modules/@prisma/client/src/runtime/RequestHandler.ts:202:7)
    at ei.handleAndLogRequestError (/home/finova/api_basica/node_modules/@prisma/client/src/runtime/RequestHandler.ts:174:12)
    at ei.request (/home/finova/api_basica/node_modules/@prisma/client/src/runtime/RequestHandler.ts:143:12)
    at a (/home/finova/api_basica/node_modules/@prisma/client/src/runtime/getPrismaClient.ts:833:24)
2025-10-03T18:52:00.427Z error: PrismaClientValidationError: 
Invalid `this.prisma.empleado.create()` invocation in
/home/finova/api_basica/src/prisma/prisma.service.ts:26:41

  23 async createEmpleado(data: PrismaInterfaces.ICreateEmpleado) {
  24   try {
  25     logger.info('Creando nuevo empleado', { data });
→ 26     return await this.prisma.empleado.create({
           data: {
             tipo_documento: "CC",
             documento: "12345678901",
             nombre: "María Elena",
             apellido: "García Rodríguez",
             email: "maria.garcia@colegio.edu.co",
             direccion: "Calle 123 #45-67, Bogotá",
             cargo: "docente",
                    ~~~~~~~~~
             estado: "activo"
           }
         })

Invalid value for argument `cargo`. Expected empleado_cargo.
    at throwValidationException (/home/finova/api_basica/node_modules/@prisma/client/src/runtime/core/errorRendering/throwValidationException.ts:45:9)
    at ei.handleRequestError (/home/finova/api_basica/node_modules/@prisma/client/src/runtime/RequestHandler.ts:202:7)
    at ei.handleAndLogRequestError (/home/finova/api_basica/node_modules/@prisma/client/src/runtime/RequestHandler.ts:174:12)
    at ei.request (/home/finova/api_basica/node_modules/@prisma/client/src/runtime/RequestHandler.ts:143:12)
    at a (/home/finova/api_basica/node_modules/@prisma/client/src/runtime/getPrismaClient.ts:833:24)
2025-10-03T18:53:13.244Z info: Creando nuevo empleado
2025-10-03T18:53:13.271Z info: Empleado digitalizado por jean.duran@superadmin.com (super_admin)
2025-10-03T18:57:37.796Z info: Creando nuevo empleado
2025-10-03T18:57:37.948Z error: PrismaClientKnownRequestError: 
Invalid `this.prisma.empleado.create()` invocation in
/home/finova/api_basica/src/prisma/prisma.service.ts:26:41

  23 async createEmpleado(data: PrismaInterfaces.ICreateEmpleado) {
  24   try {
  25     logger.info('Creando nuevo empleado', { data });
→ 26     return await this.prisma.empleado.create(
Unique constraint failed on the constraint: `documento`
    at ei.handleRequestError (/home/finova/api_basica/node_modules/@prisma/client/src/runtime/RequestHandler.ts:228:13)
    at ei.handleAndLogRequestError (/home/finova/api_basica/node_modules/@prisma/client/src/runtime/RequestHandler.ts:174:12)
    at ei.request (/home/finova/api_basica/node_modules/@prisma/client/src/runtime/RequestHandler.ts:143:12)
    at a (/home/finova/api_basica/node_modules/@prisma/client/src/runtime/getPrismaClient.ts:833:24)
2025-10-03T18:57:37.949Z error: PrismaClientKnownRequestError: 
Invalid `this.prisma.empleado.create()` invocation in
/home/finova/api_basica/src/prisma/prisma.service.ts:26:41

  23 async createEmpleado(data: PrismaInterfaces.ICreateEmpleado) {
  24   try {
  25     logger.info('Creando nuevo empleado', { data });
→ 26     return await this.prisma.empleado.create(
Unique constraint failed on the constraint: `documento`
    at ei.handleRequestError (/home/finova/api_basica/node_modules/@prisma/client/src/runtime/RequestHandler.ts:228:13)
    at ei.handleAndLogRequestError (/home/finova/api_basica/node_modules/@prisma/client/src/runtime/RequestHandler.ts:174:12)
    at ei.request (/home/finova/api_basica/node_modules/@prisma/client/src/runtime/RequestHandler.ts:143:12)
    at a (/home/finova/api_basica/node_modules/@prisma/client/src/runtime/getPrismaClient.ts:833:24)
2025-10-03T18:58:18.121Z info: Obteniendo empleado por ID
2025-10-03T18:58:18.163Z info: Creando información académica
2025-10-03T18:58:18.182Z info: Información académica digitalizada por jean.duran@superadmin.com (super_admin)
2025-10-03T19:01:10.592Z info: Información académica obtenida: 1 de 1
2025-10-03T19:11:55.601Z info: Obteniendo usuarios
2025-10-03T19:11:55.805Z info: Usuarios obtenidos: 2
2025-10-03T19:12:03.866Z error: Error en middleware de autenticación
2025-10-03T19:12:10.681Z error: Error en middleware de autenticación
2025-10-03T19:12:23.177Z info: Obteniendo usuarios
2025-10-03T19:12:23.184Z info: Usuarios obtenidos: 2
2025-10-03T19:35:02.722Z info: Obteniendo usuario por email
2025-10-03T19:35:02.931Z info: Login exitoso
2025-10-03T19:36:09.588Z info: Obteniendo usuario por email
2025-10-03T19:36:09.782Z info: Login exitoso
2025-10-03T19:36:28.949Z info: Obteniendo usuario por ID
2025-10-03T19:38:16.583Z info: Usuario cerró sesión
2025-10-03T19:38:37.601Z info: Obteniendo usuarios
2025-10-03T19:38:37.695Z info: Usuarios obtenidos: 2
2025-10-03T19:39:04.555Z info: Obteniendo usuario por ID
2025-10-03T19:49:40.873Z info: Obteniendo usuario por ID
2025-10-03T19:49:44.300Z info: Token agregado a blacklist
2025-10-03T19:49:44.301Z info: Token invalidado exitosamente
2025-10-03T19:49:44.301Z info: Token de acceso invalidado
2025-10-03T19:49:44.301Z info: 🚪 Logout exitoso - Sesión cerrada y tokens invalidados
2025-10-03T19:49:50.182Z warn: Intento de uso de token blacklisteado
2025-10-03T19:49:50.183Z warn: Error en middleware de autenticación
2025-10-03T19:51:53.193Z info: Obteniendo usuario por email
2025-10-03T19:51:53.392Z info: Login exitoso
2025-10-03T19:52:05.737Z info: Obteniendo usuario por ID
2025-10-03T19:52:15.492Z info: Token agregado a blacklist
2025-10-03T19:52:15.493Z info: Token invalidado exitosamente
2025-10-03T19:52:15.493Z info: Token de acceso invalidado
2025-10-03T19:52:15.493Z info: 🚪 Logout exitoso - Sesión cerrada y tokens invalidados
2025-10-03T19:52:20.832Z warn: Intento de uso de token blacklisteado
2025-10-03T19:52:20.832Z warn: Error en middleware de autenticación
2025-10-03T19:53:02.370Z info: Obteniendo usuario por email
2025-10-03T19:53:04.093Z info: Login exitoso
2025-10-03T19:53:14.132Z info: Obteniendo usuario por ID
2025-10-03T19:56:39.659Z info: Información académica obtenida: 1 de 1
2025-10-03T19:56:59.802Z info: Obteniendo usuario por email
2025-10-03T19:57:00.003Z info: Login exitoso
2025-10-03T19:57:11.839Z info: Obteniendo usuario por ID
2025-10-03T19:57:22.569Z info: Token agregado a blacklist
2025-10-03T19:57:22.569Z info: Token invalidado exitosamente
2025-10-03T19:57:22.569Z info: Token de acceso invalidado
2025-10-03T19:57:22.569Z info: 🚪 Logout exitoso - Sesión cerrada y tokens invalidados
2025-10-03T19:57:31.729Z warn: Intento de uso de token blacklisteado
2025-10-03T19:57:31.730Z warn: Error en middleware de autenticación
2025-10-03T20:33:46.387Z info: Obteniendo usuario por email
2025-10-03T20:33:46.596Z info: Login exitoso
2025-10-03T20:34:56.955Z info: Obteniendo usuario por email
2025-10-03T20:34:57.151Z info: Login exitoso
2025-10-03T20:35:10.243Z info: Obteniendo usuario por email
2025-10-03T20:35:10.460Z info: Login exitoso
2025-10-03T21:28:25.426Z info: Obteniendo usuario por email
2025-10-03T21:28:26.101Z info: Login exitoso
2025-10-03T21:28:58.808Z info: Obteniendo usuario por ID
2025-10-03T21:35:28.849Z info: Obteniendo usuario por ID
2025-10-03T21:39:57.249Z info: Token agregado a blacklist
2025-10-03T21:39:57.251Z info: Token invalidado exitosamente
2025-10-03T21:39:57.252Z info: Token de acceso invalidado
2025-10-03T21:39:57.252Z info: 🚪 Logout exitoso - Sesión cerrada y tokens invalidados
2025-10-03T21:40:00.764Z info: Obteniendo usuario por email
2025-10-03T21:40:00.973Z info: Login exitoso
2025-10-03T21:40:14.702Z info: Obteniendo usuario por ID
2025-10-03T21:52:40.810Z info: Creando rector completo
2025-10-03T21:52:40.813Z info: Ejecutando transacción
2025-10-03T21:52:40.819Z info: Iniciando creación de rector completo
2025-10-03T21:52:40.897Z info: Rector completo creado exitosamente
2025-10-04T16:01:21.491Z info: Obteniendo usuarios
2025-10-04T16:08:41.542Z info: Obteniendo usuarios
2025-10-04T16:13:01.777Z info: Obteniendo usuarios
2025-10-04T16:19:44.532Z info: Obteniendo usuario por email
2025-10-04T16:19:45.356Z info: Login exitoso
2025-10-04T16:34:59.454Z info: Obteniendo usuario por email
2025-10-04T16:35:00.317Z info: Login exitoso
2025-10-04T17:03:31.576Z info: Token agregado a blacklist
2025-10-04T17:03:31.578Z info: Token invalidado exitosamente
2025-10-04T17:03:31.579Z info: Token de acceso invalidado
2025-10-04T17:03:31.580Z info: 🚪 Logout exitoso - Sesión cerrada y tokens invalidados
2025-10-04T17:03:43.106Z info: Obteniendo usuario por email
2025-10-04T17:03:43.923Z info: Login exitoso
2025-10-04T17:30:52.159Z info: Obteniendo usuarios
2025-10-04T17:30:52.999Z info: Creando nuevo usuario
2025-10-04T17:30:53.020Z info: Usuario creado exitosamente
2025-10-04T17:32:16.156Z info: Token agregado a blacklist
2025-10-04T17:32:16.157Z info: Token invalidado exitosamente
2025-10-04T17:32:16.157Z info: Token de acceso invalidado
2025-10-04T17:32:16.158Z info: 🚪 Logout exitoso - Sesión cerrada y tokens invalidados
2025-10-04T17:32:38.029Z info: Obteniendo usuario por email
2025-10-04T17:32:38.749Z info: Login exitoso
